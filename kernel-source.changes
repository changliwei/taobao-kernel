-------------------------------------------------------------------
Mon May 16 19:20:13 CST 2011 - gaoyang.zyh@taobao.com

- patches.taobao/pci-fix-mmap-addr-check.patch: fix for Bug94041.
 pci_mmap_fits() didn't handle pci mmap via proc properly.

-------------------------------------------------------------------
Fri May 13 21:41:36 CST 2011 - bosong.ly@taobao.com

- Refresh patches.driver/e1000e-1.3.10a.patch, last commit is incompleted.

-------------------------------------------------------------------
Fri May 13 20:18:22 CST 2011 - bosong.ly@taobao.com

- patches.driver/e1000e-1.3.10a.patch: backport e1000e-1.3.10a
  driver to RHEL6 2.6.32 kernel.

-------------------------------------------------------------------
Wed May 11 12:26:23 CST 2011 - bosong.ly@taobao.com

- Update config files: add CONFIG_NETOOPS=m

-------------------------------------------------------------------
Wed May 11 02:52:29 CST 2011 - bosong.ly@taobao.com

- redhat-kernel-source/drivers/net/ixgbe/ixgbe_param.c: add missing file
  when updating to 2.6.32-71.29.1.el6.

-------------------------------------------------------------------
Wed May 11 02:51:29 CST 2011 - bosong.ly@taobao.com

- version: add entry for 2.6.32-71.29.1.el6.

-------------------------------------------------------------------
Wed May 11 02:49:32 CST 2011 - bosong.ly@taobao.com

- update to 2.6.32-71.29.1.el6:
  - redhat-kernel-changelog:
  - redhat-kernel-source/arch/x86/kernel/efi_64.c:
  - redhat-kernel-source/crypto/signature/key.h:
  - redhat-kernel-source/drivers/char/tty_audit.c:
  - redhat-kernel-source/drivers/firmware/dcdbas.c:
  - redhat-kernel-source/drivers/gpu/drm/drm_irq.c:
  - redhat-kernel-source/drivers/gpu/drm/radeon/r100.c:
  - redhat-kernel-source/drivers/gpu/drm/radeon/r100_track.h:
  - redhat-kernel-source/drivers/gpu/drm/radeon/r300.c:
  - redhat-kernel-source/drivers/gpu/drm/radeon/r300_reg.h:
  - redhat-kernel-source/drivers/gpu/drm/radeon/reg_srcs/r300:
  - redhat-kernel-source/drivers/gpu/drm/radeon/reg_srcs/r420:
  - redhat-kernel-source/drivers/gpu/drm/radeon/reg_srcs/rs600:
  - redhat-kernel-source/drivers/gpu/drm/radeon/reg_srcs/rv515:
  - redhat-kernel-source/drivers/infiniband/core/uverbs_cmd.c:
  - redhat-kernel-source/drivers/media/video/sn9c102/sn9c102_core.c:
  - redhat-kernel-source/drivers/mfd/ab3100-core.c:
  - redhat-kernel-source/drivers/net/bonding/bond_alb.c:
  - redhat-kernel-source/drivers/net/bonding/bond_ipv6.c:
  - redhat-kernel-source/drivers/net/bonding/bond_main.c:
  - redhat-kernel-source/drivers/net/ixgbe/Makefile:
  - redhat-kernel-source/drivers/net/ixgbe/ixgbe.h:
  - redhat-kernel-source/drivers/net/ixgbe/ixgbe_main.c:
  - redhat-kernel-source/drivers/net/ixgbe/ixgbe_param.c:
  - redhat-kernel-source/drivers/pci/pci-acpi.c:
  - redhat-kernel-source/drivers/pci/pcie/aspm.c:
  - redhat-kernel-source/drivers/platform/x86/acer-wmi.c:
  - redhat-kernel-source/drivers/platform/x86/tc1100-wmi.c:
  - redhat-kernel-source/drivers/scsi/aic94xx/aic94xx_init.c:
  - redhat-kernel-source/drivers/scsi/device_handler/scsi_dh.c:
  - redhat-kernel-source/drivers/scsi/megaraid/megaraid_sas.c:
  - redhat-kernel-source/extract.pub:
  - redhat-kernel-source/fs/notify/inotify/inotify_fsnotify.c:
  - redhat-kernel-source/fs/notify/inotify/inotify_user.c:
  - redhat-kernel-source/fs/proc/array.c:
  - redhat-kernel-source/fs/xfs/linux-2.6/xfs_ioctl.c:
  - redhat-kernel-source/fs/xfs/xfs_fsops.c:
  - redhat-kernel-source/include/drm/drmP.h:
  - redhat-kernel-source/include/linux/netdevice.h:
  - redhat-kernel-source/include/linux/pci-aspm.h:
  - redhat-kernel-source/kernel.pub:
  - redhat-kernel-source/kernel.sec:
  - redhat-kernel-source/kernel/exit.c:
  - redhat-kernel-source/mm/vmscan.c:
  - redhat-kernel-source/net/8021q/vlan.c:
  - redhat-kernel-source/net/8021q/vlan_core.c:
  - redhat-kernel-source/net/8021q/vlan_dev.c:
  - redhat-kernel-source/net/bluetooth/bnep/sock.c:
  - redhat-kernel-source/net/bridge/br_input.c:
  - redhat-kernel-source/net/bridge/netfilter/ebtables.c:
  - redhat-kernel-source/net/can/bcm.c:
  - redhat-kernel-source/net/core/dev.c:
  - redhat-kernel-source/net/dccp/input.c:
  - redhat-kernel-source/net/ipv4/ip_gre.c:
  - redhat-kernel-source/net/ipv4/ipip.c:
  - redhat-kernel-source/net/ipv4/netfilter/ipt_CLUSTERIP.c:
  - redhat-kernel-source/net/ipv6/sit.c:
  - redhat-kernel-source/net/sctp/sm_make_chunk.c:
  - redhat-kernel-source/random_seed:
  - redhat-kernel-source/security/integrity/ima/ima_policy.c:
  - redhat-kernel-source/sound/pci/hda/patch_nvhdmi.c:
  - redhat-kernel-source/sound/usb/caiaq/audio.c:
  - redhat-kernel-source/sound/usb/caiaq/midi.c:
  - redhat-kernel-source/trustdb.gpg:
  - redhat-kernel-source/version:

-------------------------------------------------------------------
Wed May 11 01:57:32 CST 2011 - bosong.ly@taobao.com
- merge netoops patch set:
  - patches.taobao/netoops_001_kmsg_dumper_call_on_oops_and_panics.patch:
    kmsg_dumper: call on oops and panics.
  - patches.taobao/netoops_002_netconsole_remove_unneeded_reference_counter.patch:
    netconsole: remove unneeded reference counter for netconsole_target.
  - patches.taobao/netoops_003_netconsole_introduce_locking_over_the_netpoll_fields.patch:
    netconsole: introduce locking over the netpoll fields.
  - patches.taobao/netoops_004_netconsole_introduce_enabled_state_machine.patch:
    netconsole: introduce 'enabled" state machine.
  - patches.taobao/netoops_005_netconsole_call_netpoll_cleanup_in_process_context.patch:
    netconsole: call netpoll_cleanup() in process context.
  - patches.taobao/netoops_006_netconsole_wrap_the_list_and_locking_in_a_structure.patch:
    netconsole: wrap the list and locking in a structrue.
  - patches.taobao/netoops_007_netconsole_push_configfs_subsystem_into_netpoll_targets.patch:
    netconsole: push configfs subsystem into netpoll_targets.
  - patches.taobao/netoops_008_netconsole_move_netdev_notifier_into_netpoll_targets.patch:
    netconsole: move netdev_notifier into netpoll_targets.
  - patches.taobao/netoops_009_netconsole_split_out_netpoll_targets_init_exit.patch:
    netconsole: split out netpoll_targets init/exit.
  - patches.taobao/netoops_010_netconsole_add_pointer_to_netpoll_targets.patch:
    netconsole: add pointer to netpoll_targets.
  - patches.taobao/netoops_011_netconsole_rename_netconsole_target_to_netpoll_target.patch:
    netconsole: rename netconsole_target -> netpoll_target.
  - patches.taobao/netoops_012_netconsole_abstract_away_the_subsystem_name.patch:
    netconsole: abstract away the subsystem name.
  - patches.taobao/netoops_013_netconsole_move_setting_of_default_ports.patch:
    netconsole: move setting of default ports.
  - patches.taobao/netoops_014_netpoll_introduce_netpoll_target_configs.patch:
    netpoll: introduce netpoll_target configs.
  - patches.taobao/netoops_015_netpoll_move_target_code_into_netpoll_targets.patch:
    netpoll: move target code into netpoll_targets.c.
  - patches.taobao/netoops_016_oops_pass_regs_to_oops_exit.patch:
    oops: pass pt_regs along to oops_exit.
  - patches.taobao/netoops_017_kmsg_dumper_pass_pt_regs_along_to_dumpers.patch:
    kmsg_dumper: pass pt_regs along to dumpers.
  - patches.taobao/netoops_018_kmsg_dumper_introduce_a_new_soft_dump_reason.patch:
    kmsg_dumper: introduce a new 'SOFT' dump reason.
  - patches.taobao/netoops_019_sysrq_add_option_to_soft_dump.patch:
    sys-rq: add option to soft dump.
  - patches.taobao/netoops_020_add_core_functionality.patch:
    netoops: add core functionality.
  - patches.taobao/netoops_021_add_x86_specific_bits_to_packet_headers.patch:
    netoops: add x86 specific bits to packet headers.
  - patches.taobao/netoops_022_add_user_programmable_boot_id.patch:
    netoops: add user programmable boot id.
  - patches.taobao/netoops_023_add_a_user_programmable_blob_to_the_netoops_packet.patch:
    netoops: add a user programmable blob to the netoops_packet.
  - patches.taobao/netoops_024_add_oom_event.patch: netoops:
    add OOM event into netoops.

- add series number to pagecache hit accounting patch set.
  - patches.taobao/pagecache_hit_accounting_001_Kconfig.patch:
    x86/Kconfig: Add Page Cache Accounting entry.
  - patches.taobao/pagecache_hit_accounting_002_add_func_and_structures.patch:
    block: Add functions and data types for Page Cache Accounting.
  - patches.taobao/pagecache_hit_accounting_003_mm_add_accouting_for_pagecache.patch:
    mm: Add hit/miss accounting for Page Cache.
  - patches.taobao/pagecache_hit_accounting_004_add_readpages_accounting.patch:
    mm: Add readpages accounting.

-------------------------------------------------------------------
Fri May  6 22:54:05 CST 2011 - boyu.mt@taobao.com

These 2 fixes will be committed into upstream soon.

- patches.taobao/jbd2_Fix_forever_sleeping_process_in_do_get_write_access.patch:
  jbd2: Fix forever sleeping process in do_get_write_access().
- patches.taobao/jbd_Fix_forever_sleeping_process_in_do_get_write_access.patch:
  jbd: Fix forever sleeping process in do_get_write_access().

-------------------------------------------------------------------
Tue May  3 12:39:49 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: fix a set of typoes
  - %%COMMITID%%, based on Redhat %%RHELBASE%%.\
  + %%COMMITID%%, based on Redhat %%RHELBASE%%.

-------------------------------------------------------------------
Wed Apr 20 12:00:58 CST 2011 - boyu.mt@taobao.com

- Update config files.
- patches.taobao/flashcache.patch:
Patch ported from flashcache.
https://github.com/facebook/flashcache.git
This patch correponding to top commit a21bb2ef.

-------------------------------------------------------------------
Tue Apr 19 15:31:55 CST 2011 - boyu.mt@taobao.com

The new pagecache hit accounting patches uses trace points.

- patches.taobao/pagecache_hit_accounting_Kconfig.patch:
  x86/Kconfig: Add Page Cache Accounting entry.
- patches.taobao/pagecache_hit_accounting_add_func_and_structures.patch:
  block: Add functions and data types for Page Cache Accounting.
- patches.taobao/pagecache_hit_accounting_add_readpages_accounting.patch:
  mm: Add readpages accounting.
- patches.taobao/pagecache_hit_accounting_mm_add_accouting_for_pagecache.patch:
  mm: Add hit/miss accounting for Page Cache.

-------------------------------------------------------------------
Tue Apr 19 15:26:04 CST 2011 - boyu.mt@taobao.com

Remove the old version of page caches account from tailai.
The new one will be added in another patch.

- patches.taobao/pagecache_hit_accounting_Kconfig.patch: Delete.
- patches.taobao/pagecache_hit_accounting_add_func_and_structures.patch:
  Delete.
- patches.taobao/pagecache_hit_accounting_add_readpages_accounting.patch:
  Delete.
- patches.taobao/pagecache_hit_accounting_mm_add_accouting_for_pagecache.patch:
  Delete.
- patches.taobao/pagecache_hit_accounting_sysfs_interface.patch:
  Delete.

-------------------------------------------------------------------
Fri Apr 15 20:49:59 CST 2011 - bosong.ly@taobao.com

- Update config files: set CONFIG_BLK_DEV_SD=y

-------------------------------------------------------------------
Fri Apr 15 18:51:03 CST 2011 - bosong.ly@taobao.com

- Update config files: copy kernel-2.6.32-x86_64.config to kernel-2.6.32-x86_64-lvs.config,
  because we don't have a lvs kconfig yet.

-------------------------------------------------------------------
Fri Apr 15 18:39:56 CST 2011 - bosong.ly@taobao.com

- Update config files, sync modification from linux-2.6.32-71.24.1.el6.
  - kernel-2.6.32-x86_64-debug.config
  - kernel-2.6.32-x86_64.config

-------------------------------------------------------------------
Fri Apr 15 17:49:29 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: don't use dracut on 5u4 branch by default.

-------------------------------------------------------------------
Fri Apr 15 16:05:59 CST 2011 - bosong.ly@taobao.com

- redhat-kernel-changelog: remove redundant head "%changelog".

-------------------------------------------------------------------
Fri Apr 15 16:00:11 CST 2011 - bosong.ly@taobao.com

- version: add entry for linux-2.6.32-71.24.1.el6.

-------------------------------------------------------------------
Fri Apr 15 15:58:19 CST 2011 - bosong.ly@taobao.com

- Update to linux-2.6.32-71.24.1.el6:
 - redhat-kernel-source/.gitignore:
 - redhat-kernel-source/Documentation/sysctl/kernel.txt:
 - redhat-kernel-source/arch/powerpc/kernel/head_64.S:
 - redhat-kernel-source/arch/s390/Kconfig.debug:
 - redhat-kernel-source/arch/s390/crypto/sha_common.c:
 - redhat-kernel-source/arch/s390/include/asm/crash.h:
 - redhat-kernel-source/arch/s390/include/asm/page.h:
 - redhat-kernel-source/arch/s390/include/asm/processor.h:
 - redhat-kernel-source/arch/s390/kernel/traps.c:
 - redhat-kernel-source/arch/s390/kernel/vtime.c:
 - redhat-kernel-source/arch/x86/include/asm/io.h:
 - redhat-kernel-source/arch/x86/kernel/apic/apic.c:
 - redhat-kernel-source/arch/x86/kernel/apic/io_apic.c:
 - redhat-kernel-source/arch/x86/kernel/apic/probe_64.c:
 - redhat-kernel-source/arch/x86/kernel/crash_dump_64.c:
 - redhat-kernel-source/arch/x86/kvm/vmx.c:
 - redhat-kernel-source/arch/x86/kvm/x86.c:
 - redhat-kernel-source/crypto/signature/key.h:
 - redhat-kernel-source/drivers/char/virtio_console.c:
 - redhat-kernel-source/drivers/infiniband/core/cm.c:
 - redhat-kernel-source/drivers/infiniband/core/cma.c:
 - redhat-kernel-source/drivers/media/dvb/ttpci/av7110_ca.c:
 - redhat-kernel-source/drivers/net/cnic.c:
 - redhat-kernel-source/drivers/net/cxgb3/cxgb3_main.c:
 - redhat-kernel-source/drivers/net/ixgbe/ixgbe_common.c:
 - redhat-kernel-source/drivers/net/ixgbe/ixgbe_fcoe.c:
 - redhat-kernel-source/drivers/net/ixgbe/ixgbe_fcoe.h:
 - redhat-kernel-source/drivers/net/ixgbe/ixgbe_sriov.c:
 - redhat-kernel-source/drivers/net/r8169.c:
 - redhat-kernel-source/drivers/net/virtio_net.c:
 - redhat-kernel-source/drivers/net/wireless/orinoco/wext.c:
 - redhat-kernel-source/drivers/pci/dmar.c:
 - redhat-kernel-source/drivers/pci/quirks.c:
 - redhat-kernel-source/drivers/scsi/fcoe/fcoe.c:
 - redhat-kernel-source/drivers/usb/misc/iowarrior.c:
 - redhat-kernel-source/extract.pub:
 - redhat-kernel-source/fs/cifs/cifs_dfs_ref.c:
 - redhat-kernel-source/fs/cifs/cifsproto.h:
 - redhat-kernel-source/fs/cifs/connect.c:
 - redhat-kernel-source/fs/cifs/dns_resolve.c:
 - redhat-kernel-source/fs/cifs/netmisc.c:
 - redhat-kernel-source/fs/exec.c:
 - redhat-kernel-source/fs/proc/array.c:
 - redhat-kernel-source/include/linux/kernel.h:
 - redhat-kernel-source/include/net/sctp/sm.h:
 - redhat-kernel-source/include/net/sctp/structs.h:
 - redhat-kernel-source/kernel.pub:
 - redhat-kernel-source/kernel.sec:
 - redhat-kernel-source/kernel/printk.c:
 - redhat-kernel-source/kernel/sysctl.c:
 - redhat-kernel-source/kernel/timer.c:
 - redhat-kernel-source/mm/mmap.c:
 - redhat-kernel-source/mm/vmalloc.c:
 - redhat-kernel-source/net/bridge/br_multicast.c:
 - redhat-kernel-source/net/core/dev.c:
 - redhat-kernel-source/net/core/ethtool.c:
 - redhat-kernel-source/net/sctp/input.c:
 - redhat-kernel-source/net/sctp/sm_sideeffect.c:
 - redhat-kernel-source/net/sctp/transport.c:
 - redhat-kernel-source/random_seed:
 - redhat-kernel-source/security/Kconfig:
 - redhat-kernel-source/security/commoncap.c:
 - redhat-kernel-source/temp-i686-debug-final:
 - redhat-kernel-source/temp-i686-final:
 - redhat-kernel-source/trustdb.gpg:
 - redhat-kernel-source/version:

-------------------------------------------------------------------
Tue Mar 29 16:33:01 CST 2011 - bosong.ly@taobao.com

- series.conf: disable page cache accouting patch, will re-enable
  them after re-implemented by trace. 

-------------------------------------------------------------------
Wed Mar 16 14:37:56 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: we use kernel-source.changes as taobao-kernel.changes.

-------------------------------------------------------------------
Tue Mar 15 09:43:17 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: two package descriptions still need the '\'.

-------------------------------------------------------------------
Mon Mar 14 17:06:36 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: fixed a typo (a redundancy '\')
- scripts/gitlog2changes: use TZ=Asia/Shanghai instead of CET.

-------------------------------------------------------------------
Mon Mar 14 14:38:55 CST 2011 - gaoyang.zyh@taobao.com

- Use RHEL's origin changelog in .spec instead of our own one.
  Taobao's changelog will be copied into /lib/modules/{KVER} instead.
    - redhat-kernel-changelog:
    - rpm/kernel.spec.in:
    - scripts/mkspec.py:
    - scripts/package.py:

-------------------------------------------------------------------
Fri Mar 11 21:39:04 CST 2011 - boyu.mt@taobao.com

- patches.taobao/blktrace-Don-t-output-messages-if-NOTIFY-isn-t-set.patch:
  blktrace: Don't output messages if NOTIFY isn't set.

-------------------------------------------------------------------

Fri Mar 11 15:04:57 CST 2011 - gaoyang.zyh@taobao.com
- Used RHEL's origin changelog in .spec instead of our own one.
- redhat-kernel-source/redhat-kernel-changelog:
- rpm/kernel.spec.in:
- scripts/mkspec.py:
- scripts/package.py:

-------------------------------------------------------------------
Fri Mar 11 20:08:04 CST 2011 - bosong.ly@taobao.com

- Update config files:
  - config MEGARAID_xxx config as kernel modules
  - sync lvs kconfig from stardand kconfig

-------------------------------------------------------------------
Fri Mar 11 16:51:23 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: missed a path prefix in my last commit.

-------------------------------------------------------------------
Fri Mar 11 16:28:14 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: remove  squashfs-tools and wireless-tools
  dependences, almost all online machines may complain the dependency
  conflict when updating kernel while they don't need these 2
  packages.

-------------------------------------------------------------------
Fri Mar 11 16:12:39 CST 2011 - gaoyang.zyh@taobao.com
- Move redhat-kernel-changelog out of RH Tree.
    - redhat-kernel-changelog:
    - rpm/kernel.spec.in:
    - scripts/package.py:
    - redhat-kernel-source/redhat-kernel-changelog: Delete.

-------------------------------------------------------------------
Fri Mar 11 14:26:28 CST 2011 - bosong.ly@taobao.com

- move two patches from redhat-kernel-source to patches.taobao:
  - patches.taobao/Makefile_fix_CPP_PATCH_number_assignment_error.patch
  - patches.taobao/remove_-Werror_for_out-of-tree_modules.patch

-------------------------------------------------------------------
Fri Mar 11 12:07:05 CST 2011 - bosong.ly@taobao.com

- version: upgrade to linux-2.6.32-71.18.2.el6

-------------------------------------------------------------------
Fri Mar 11 12:03:38 CST 2011 - bosong.ly@taobao.com

- upgrade to linux-2.6.32-71.18.2.el6.

-------------------------------------------------------------------
Thu Mar 10 22:32:06 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: fixed a typo.

-------------------------------------------------------------------
Thu Mar 10 22:31:39 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: enable perf build.

-------------------------------------------------------------------
Thu Mar 10 22:26:29 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: fixed a typo.

-------------------------------------------------------------------
Thu Mar 10 17:19:38 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: remove squashfs-tools and wireless-tools
  dependency.

-------------------------------------------------------------------
Thu Mar 10 16:14:46 CST 2011 - bosong.ly@taobao.com

- merge from branch master.

-------------------------------------------------------------------
Thu Mar 10 16:10:30 CST 2011 - bosong.ly@taobao.com

- Update config files,
  * modified: config/kernel-2.6.32-x86_64.config, set
    CONFIG_PRINTK_TIME=y
  * modified: config/kernel-2.6.32-x86_64-debug.config, sync the
    non-debug config items made in config/kernel-2.6.32-x86_64.config.

-------------------------------------------------------------------
Thu Mar 10 15:50:02 CST 2011 - bosong.ly@taobao.com

- scripts/mkspec.py: fix pkg_release build code for el5:
  -  pkg_release = rh_release_id + "."  + "tb" + buildid + ".el6"
  +  pkg_release = rh_release_id + "."  + "tb" + buildid + ".el5"

-------------------------------------------------------------------
Thu Mar 10 15:47:56 CST 2011 - bosong.ly@taobao.com

- scripts/mkspec.py: modify distribution list from .el6 to .master for pkg_release.

-------------------------------------------------------------------
Wed Mar  9 12:30:14 CST 2011 - bosong.ly@taobao.com

- config/kernel-2.6.32-x86_64.config: remove useless kernel config
  * CAN (Control Area Network)
  * BT (Blue Tooth)
  * RF (Radio Frequency)
  * MACINTOSH_DRIVERS (Macintosh drivers)
  * ISDN
  * V4l
  * SND (Sound Card Drivers)
  * TABLET
  * MEDIA (Media Drivers)
  * A11Y (Accessibility Driver)

-------------------------------------------------------------------
Wed Mar  9 10:57:26 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: add rng-utils to build requires, otherwise
  we might wait quite a long time on collecting enough PGP seed.

-------------------------------------------------------------------
Tue Mar  8 20:51:43 CST 2011 - bosong.ly@taobao.com

- Update config files: merged from "master" branch, build
  megaraid_sas into core.
- scripts/mkspec.py: fix merge confliction.

-------------------------------------------------------------------
Tue Mar  8 20:42:57 CST 2011 - bosong.ly@taobao.com

- Update config files to build metaraid_sas into core,
  * config/kernel-2.6.32-x86_64-debug.config
  * config b/config/kernel-2.6.32-x86_64-lvs.config
  * config/kernel-2.6.32-x86_64.config
	+CONFIG_MEGARAID_MM=y
	+CONFIG_MEGARAID_MAILBOX=y
	+CONFIG_MEGARAID_LEGACY=y
	+CONFIG_MEGARAID_SAS=y

-------------------------------------------------------------------
Tue Mar  8 11:04:30 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: use 'tb{n}' instead of '{n}tb' in buildid.

-------------------------------------------------------------------
Tue Mar  8 10:58:40 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: use 'tb{n}' instead of '{n}tb' in buildid.

-------------------------------------------------------------------
Mon Mar  7 16:45:29 CST 2011 - gaoyang.zyh@taobao.com

- Update config files. Sync this placeholder config with the base config.

-------------------------------------------------------------------
Mon Mar  7 16:42:33 CST 2011 - gaoyang.zyh@taobao.com

- Reconstruct the packaging naming rule. Now we use something like
kernel-2.6.32-18.7.1.100tb.el6.x86_64.rpm
    - rpm/kernel.spec.in:
    - scripts/mkspec.py:

-------------------------------------------------------------------
Mon Mar  7 15:41:45 CST 2011 - gaoyang.zyh@taobao.com

- Update config files. Sync this placeholder config with the base config.

-------------------------------------------------------------------
Mon Mar  7 15:40:00 CST 2011 - gaoyang.zyh@taobao.com

- Reconstruct the packaging naming rule. Now we use something like
kernel-2.6.32-18.7.1.100tb.el6.x86_64.rpm.
    - rpm/kernel.spec.in:
    - scripts/mkspec.py:

-------------------------------------------------------------------
Fri Mar  4 20:33:18 CST 2011 - bosong.ly@taobao.com

- Update config files to enable page cache hit accounting
  config/kernel-2.6.32-x86_64.config
  config/kernel-2.6.32-x86_64-debug.config

-------------------------------------------------------------------
Fri Mar  4 20:20:45 CST 2011 - bosong.ly@taobao.com

- Add page cache hit accounting patch set into taobao kernel tree.
  This is the first effort, patches are not upstream yet.
  * patches.taobao/pagecache_hit_accounting_Kconfig.patch:
    x86/Kconfig: Add Page Cache Accounting entry.
  * patches.taobao/pagecache_hit_accounting_add_func_and_structures.patch:
    block: Add functions and data types for Page Cache.
  * patches.taobao/pagecache_hit_accounting_add_readpages_accounting.patch:
    mm: Add readpages accounting.
  * patches.taobao/pagecache_hit_accounting_mm_add_accouting_for_pagecache.patch:
    mm: Add hit/miss accounting for Page Cache.
  * patches.taobao/pagecache_hit_accounting_sysfs_interface.patch:
    block: Make Page Cache counters work with sysfs.

-------------------------------------------------------------------
Fri Mar  4 17:57:23 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: add m4.

-------------------------------------------------------------------
Fri Mar  4 17:55:01 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: add m4, some build boxes have no m4 installed.

-------------------------------------------------------------------
Thu Mar  3 20:12:38 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: comment out kabi check file,
        Source30: Module.kabi_i686
        Source33: Module.kabi_x86_64
  since we don't check kabi currently.

-------------------------------------------------------------------
Thu Mar  3 18:11:10 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: change dist from .el6 to master in master branch.

-------------------------------------------------------------------
Thu Mar  3 18:08:45 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: change build distro from .el6 to .el5 in 5u4 branch

-------------------------------------------------------------------
Thu Mar  3 18:02:47 CST 2011 - bosong.ly@taobao.com

- scripts/seq-patch.py: change typo "refresh_patch.py" to "refresh_patch.sh", to fix
  an invalid symbolic link in patched output directory.

-------------------------------------------------------------------
Thu Mar  3 14:38:21 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: enable debuginfo package.

-------------------------------------------------------------------
Thu Mar  3 14:12:32 CST 2011 - gaoyang.zyh@taobao.com

- redhat-kernel-source/Makefile: Remove the -Werror for out-of-tree modules for now. 
This is a workaround.
It was called unexpectly by rpmbuild on rhel6 which has a newer GCC. Once we get to know
how it is involved we may restore it later.

-------------------------------------------------------------------
Thu Mar  3 10:05:53 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: disable build of perf.

-------------------------------------------------------------------
Wed Mar  2 16:51:17 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64-debug.conf.
  Change Redhat debug Kconfig to our own debug Kconfig.

-------------------------------------------------------------------
Wed Mar  2 16:49:43 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64.config, modify
  preempt mode from Desktop to Server.
	* set item:
	+CONFIG_PREEMPT_NONE=y
	* removed item:
	-CONFIG_PREEMPT_VOLUNTARY=y

-------------------------------------------------------------------
Wed Mar  2 15:58:12 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64.config, to support /proc/config.gz.
	* set items:
	+CONFIG_IKCONFIG=y
	+CONFIG_IKCONFIG_PROC=y

-------------------------------------------------------------------
Wed Mar  2 11:23:55 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: The spec marco ${SOURCEn} can't be expand in ``,
   so let's use the script's name directly here.

-------------------------------------------------------------------
Wed Mar  2 11:03:59 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: add a new script to get arch instead of using the artificial mark in .config.
- scripts/getarch.py:
- scripts/package.py:

-------------------------------------------------------------------
Wed Mar  2 10:06:00 CST 2011 - gaoyang.zyh@taobao.com

- Update config files:missing arch in the head.

-------------------------------------------------------------------
Tue Mar  1 23:05:08 CST 2011 - bosong.ly@taobao.com

- config.conf: remove i686 config since currently most of machine to
  be supported are x86_64 platform.

-------------------------------------------------------------------
Tue Mar  1 22:43:05 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64-debug.config,
  config/kernel-2.6.32-x86_64.config, synced from 5u4 kernel
  config.
      * set items:
        +CONFIG_NR_CPUS=256
        +CONFIG_ARPD=y
        +CONFIG_MAC80211_MESH=y
        +CONFIG_MAC80211_DEBUGFS=y
        +CONFIG_DEBUG_DEVRES=y
        +CONFIG_BLK_DEV_SD=y
        +CONFIG_THRUSTMASTER_FF=y
        +CONFIG_ZEROPLUS_FF=y
      * removed items:
        -CONFIG_MAXSMP=y
        -CONFIG_NR_CPUS=4096
        -CONFIG_MTD_PMC551=m
        -CONFIG_BLK_DEV_SD=m
        -CONFIG_CPUMASK_OFFSTACK=y

-------------------------------------------------------------------
Tue Mar  1 22:31:11 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64-debug.config
  according modification of config/kernel-2.6.32-x86_64.config

-------------------------------------------------------------------
Tue Mar  1 22:19:12 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64.config
  * set items:
	+CONFIG_NR_CPUS=256
	+CONFIG_ARPD=y
	+CONFIG_MAC80211_MESH=y
	+CONFIG_MAC80211_DEBUGFS=y
	+CONFIG_DEBUG_DEVRES=y
	+CONFIG_BLK_DEV_SD=y
	+CONFIG_THRUSTMASTER_FF=y
	+CONFIG_ZEROPLUS_FF=y
  * removed items:
	-CONFIG_MAXSMP=y
	-CONFIG_NR_CPUS=4096
	-CONFIG_MTD_PMC551=m
	-CONFIG_BLK_DEV_SD=m
	-CONFIG_CPUMASK_OFFSTACK=y
  The above modification compiles original sd_mod.ko into kernel, to make
  initrd work better.

-------------------------------------------------------------------
Tue Mar  1 19:32:17 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: install python-devel for building perf.

-------------------------------------------------------------------
Tue Mar  1 17:42:52 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: append more BuildRequires for perf tools.

-------------------------------------------------------------------
Tue Mar  1 16:11:13 CST 2011 - gaoyang.zyh@taobao.com

- redhat-kernel-source/version: 
- scripts/config.py: use flat source dir instead of tarball.
- scripts/mkspec.py:
- scripts/package.py:
- scripts/seq-patch.py:

-------------------------------------------------------------------
Tue Mar  1 15:48:26 CST 2011 - bosong.ly@taobao.com

- redhat-kernel-source/Makefile: fix CPP_PATCH number assignment error.

-------------------------------------------------------------------
Tue Mar  1 15:21:33 CST 2011 - bosong.ly@taobao.com

- Update config/kernel-2.6.32-x86_64.config, includes
  * set items:
	+CONFIG_SYSFS_DEPRECATED=y
	+CONFIG_SYSFS_DEPRECATED_V2=y
	+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
	+CONFIG_CALGARY_IOMMU_ENABLED_BY_DEFAULT=y
	+CONFIG_SECCOMP=y
	+CONFIG_PM_DEBUG=y
	+CONFIG_CAN_PM_TRACE=y
	+CONFIG_PM_TRACE=y
	+CONFIG_PM_TRACE_RTC=y
	+CONFIG_SCTP_HMAC_SHA1=y
	+CONFIG_BLK_CPQ_DA=m
	+CONFIG_SCSI_ACARD=m
	+CONFIG_SCSI_AIC7XXX_OLD=m
	+CONFIG_MEGARAID_LEGACY=m
	+CONFIG_SCSI_GDTH=m
	+CONFIG_SCSI_QLOGIC_1280=m
	+CONFIG_SCSI_DC395x=m
	+CONFIG_PATA_CMD640_PCI=m
	+CONFIG_PATA_CS5520=m
	+CONFIG_PATA_CS5530=m
	+CONFIG_PATA_CYPRESS=m
	+CONFIG_PATA_EFAR=m
	+CONFIG_PATA_TRIFLEX=m
	+CONFIG_PATA_MPIIX=m
	+CONFIG_PATA_NS87410=m
	+CONFIG_PATA_NS87415=m
	+CONFIG_PATA_OPTI=m
	+CONFIG_PATA_OPTIDMA=m
	+CONFIG_PATA_WINBOND=m
	+CONFIG_MD_MULTIPATH=m
	+CONFIG_RT2800USB=m
	+CONFIG_RT2X00_LIB_HT=y
	+CONFIG_HP_WATCHDOG=m
	+CONFIG_DRM_I810=m
	+CONFIG_DRM_I830=m
	+CONFIG_FB_KYRO=m
	+CONFIG_FB_METRONOME=m
	+CONFIG_FB_MB862XX=m
	+CONFIG_FB_MB862XX_PCI_GDC=y
	+CONFIG_DRAGONRISE_FF=y
	+CONFIG_LOGITECH_FF=y
	+CONFIG_LOGIRUMBLEPAD2_FF=y
	+CONFIG_PANTHERLORD_FF=y
	+CONFIG_GREENASIA_FF=y
	+CONFIG_USB_EHCI_HCD=m
	+CONFIG_USB_OHCI_HCD=m
	+CONFIG_USB_UHCI_HCD=m
	+CONFIG_USB_TRANCEVIBRATOR=m
	+CONFIG_MMC_WBSD=m
	+CONFIG_ACCESSIBILITY=y
	+CONFIG_A11Y_BRAILLE_CONSOLE=y
	+CONFIG_INFINIBAND_AMSO1100=m
	+CONFIG_INFINIBAND_IPOIB_DEBUG_DATA=y
	+CONFIG_EXT3_FS=y
	+CONFIG_EXT4_FS=y
	+CONFIG_JBD=y
	+CONFIG_JBD2=y
	+CONFIG_JBD2_DEBUG=y
	+CONFIG_FS_MBCACHE=y
	+CONFIG_UNUSED_SYMBOLS=y
	+CONFIG_LATENCYTOP=y
	+CONFIG_WORKQUEUE_TRACER=y
	+CONFIG_CRC_T10DIF=y

 * removed items:
	-CONFIG_ARCH_MEMORY_PROBE=y
	-CONFIG_MEMORY_HOTPLUG=y
	-CONFIG_MEMORY_HOTPLUG_SPARSE=y
	-CONFIG_ARCH_ENABLE_MEMORY_HOTREMOVE=y
	-CONFIG_ACPI_HOTPLUG_MEMORY=y
	-CONFIG_ACPI_HOTPLUG_MEMORY_AUTO_ONLINE=y
	-CONFIG_SCTP_HMAC_MD5=y
	-CONFIG_WAN=y
	-CONFIG_HDLC=m
	-CONFIG_HDLC_RAW=m
	-CONFIG_HDLC_CISCO=m
	-CONFIG_HDLC_FR=m
	-CONFIG_HDLC_PPP=m
	-CONFIG_DLCI=m
	-CONFIG_DLCI_MAX=8
	-CONFIG_MISDN_AVMFRITZ=m
	-CONFIG_MISDN_SPEEDFAX=m
	-CONFIG_MISDN_INFINEON=m
	-CONFIG_MISDN_W6692=m
	-CONFIG_MISDN_NETJET=m
	-CONFIG_MISDN_IPAC=m
	-CONFIG_MISDN_ISAR=m
	-CONFIG_USB_EHCI_HCD=y
	-CONFIG_USB_OHCI_HCD=y
	-CONFIG_USB_UHCI_HCD=y
	-CONFIG_EXT3_FS=m
	-CONFIG_EXT4_FS=m
	-CONFIG_JBD=m
	-CONFIG_JBD2=m
	-CONFIG_FS_MBCACHE=m
	-CONFIG_CRC_T10DIF=m

-------------------------------------------------------------------
Tue Mar  1 15:08:45 CST 2011 - bosong.ly@taobao.com
- Delete i386 kernel config, becauwe we don't support 32bit machine currently.
 * config/kernel-2.6.32-i686-debug.config
 * config/kernel-2.6.32-i686-lvs.config
 * config/kernel-2.6.32-i686.config

-------------------------------------------------------------------
Tue Mar  1 15:04:41 CST 2011 - bosong.ly@taobao.com

- redhat-kernel-source/version: add a file to indecate current redhat upstream kernel version

-------------------------------------------------------------------
Mon Feb 28 19:36:29 CST 2011 - bosong.ly@taobao.com

- version: update version log to linux-2.6.32-71.18.1.el6.

-------------------------------------------------------------------
Mon Feb 28 19:34:27 CST 2011 - bosong.ly@taobao.com

- update redhat-kernel-source to linux-2.6.32-71.18.1.el6.

-------------------------------------------------------------------
Mon Feb 28 19:15:51 CST 2011 - bosong.ly@taobao.com

- add a redhat kernel upstream directory
  * linux-2.6.32-71.7.1.el6.tar.bz2: Delete.
  * redhat-kernel-source/: a directory to maintain redhat upstream kernel tree.

-------------------------------------------------------------------
Mon Feb 28 16:17:56 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: fix a typo

-------------------------------------------------------------------
Mon Feb 28 15:50:36 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: tuned default options.
- rpm/taobao-kernel-build.sh: changed rpmbuild options aligned with kernel.spec.in changes.

-------------------------------------------------------------------
Thu Feb 24 11:11:17 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: test lvs build, disable debuginfo temporarily.

-------------------------------------------------------------------
Thu Feb 24 10:44:43 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: move default buildid lines to parse_opt() to avoid warnings.

-------------------------------------------------------------------
Thu Feb 24 10:19:55 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: use buildid=1 if buildid is not specified.

-------------------------------------------------------------------
Wed Feb 23 19:25:58 CST 2011 - gaoyang.zyh@taobao.com

- config.conf: reconstruct config files.
- Update config files.
- rpm/kernel.spec.in:
- config/config-debug: Delete.
- config/config-debug-rhel: Delete.
- config/config-generic: Delete.
- config/config-generic-rhel: Delete.
- config/config-i686: Delete.
- config/config-i686-debug: Delete.
- config/config-i686-debug-rhel: Delete.
- config/config-i686-nodebug: Delete.
- config/config-i686-nodebug-rhel: Delete.
- config/config-i686-rhel: Delete.
- config/config-nodebug: Delete.
- config/config-nodebug-rhel: Delete.
- config/config-x86-generic: Delete.
- config/config-x86-generic-rhel: Delete.
- config/config-x86_64-debug: Delete.
- config/config-x86_64-debug-rhel: Delete.
- config/config-x86_64-generic: Delete.
- config/config-x86_64-generic-rhel: Delete.
- config/config-x86_64-nodebug: Delete.
- config/config-x86_64-nodebug-rhel: Delete.

-------------------------------------------------------------------
Tue Feb 22 15:26:32 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: because some boxes may mount /tmp on different physical
                       devices, which made linking trick in rm background illegal,
                       we simply disable the background rm.

-------------------------------------------------------------------
Tue Feb 22 15:24:14 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: to run on old rhels, we don't check the patch version.

-------------------------------------------------------------------
Tue Feb 22 14:21:30 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: insert a forked check_output method to subprocess if it doesn't exist.

-------------------------------------------------------------------
Wed Feb 16 17:16:58 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: insert a forked check_output method to subprocess if it doesn't exist.

-------------------------------------------------------------------
Wed Jan 19 10:14:21 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: use $BUILD_NUMBER instead of $ABS_NUMBER_NUMBER.

-------------------------------------------------------------------
Tue Jan 18 20:10:44 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: enable smp_mflags for build.

-------------------------------------------------------------------
Tue Jan 18 19:58:18 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: restore the requires for kernel-firmware.

-------------------------------------------------------------------
Tue Jan 18 19:33:57 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: build kernel-firmware package.

-------------------------------------------------------------------
Tue Jan 18 19:26:00 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: don't require new kernel-firmware on rhel5.

-------------------------------------------------------------------
Tue Jan 18 15:32:17 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: fix for ABS 'for-dev' build.

-------------------------------------------------------------------
Tue Jan 18 14:24:03 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: echo build sn before packaging.

-------------------------------------------------------------------
Tue Jan 18 10:30:01 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: use '.' instead of '-' in PKGRELEASE since '-' is illegal here.
- scripts/package.py: complete the usage.

-------------------------------------------------------------------
Mon Jan 17 18:14:18 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: write build serial number into package name to make yum happy.
- scripts/mkspec.py:
- scripts/package.py:

-------------------------------------------------------------------
Mon Jan 17 17:53:06 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: we don't require grubby at all on rhel5

-------------------------------------------------------------------
Mon Jan 17 15:53:15 CST 2011 - gaoyang.zyh@taobao.com

- MAINTAINERS: add sanbai to MAINTAINERS (for test only)

-------------------------------------------------------------------
Mon Jan 17 15:30:10 CST 2011 - xuejiang@taobao.com

- rpm/taobao-kernel-buildqa.sh: cd rpm folder for safe.

-------------------------------------------------------------------
Mon Jan 17 15:04:12 CST 2011 - gaoyang.zyh@taobao.com

- MAINTAINERS: initial maintainers list (not complete, for test only).
- rpm/taobao-kernel-buildqa.py: ABS 'For QA' build hook.
- rpm/taobao-kernel-buildqa.sh: ditto.

-------------------------------------------------------------------
Mon Jan 17 14:52:08 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: correct the options for new-kernel-pkg on rhel5.

-------------------------------------------------------------------
Sat Jan 15 13:12:24 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: move the on_rhel5 macro to the head to make it available globally.

-------------------------------------------------------------------
Fri Jan 14 17:52:30 CST 2011 - gaoyang.zyh@taobao.com

- Update config files. Turn on the deprecated options for rhel5.
- rpm/kernel.spec.in: disable various package requires on old rhel.
- rpm/taobao-kernel-build.sh: we don't use dracut.

-------------------------------------------------------------------
Thu Jan 13 15:50:13 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: remove '@git' from package name for ABS build.

-------------------------------------------------------------------
Thu Jan 13 11:34:16 CST 2011 - gaoyang.zyh@taobao.com

- scripts/abs-post-receive: use mailx instead of mail (to test git send email hook)

-------------------------------------------------------------------
Thu Jan 13 11:24:22 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: clean up copyrights (to test git send email hook)

-------------------------------------------------------------------
Thu Jan 13 11:17:03 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: clean up copyrights (to test git send email hook)

-------------------------------------------------------------------
Thu Jan 13 11:08:42 CST 2011 - gaoyang.zyh@taobao.com

- scripts/abs-post-receive: use devel@kernel.taobao.org as the default receiver.

-------------------------------------------------------------------
Wed Jan 12 16:53:08 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: disable building kernel-debug package

-------------------------------------------------------------------
Wed Jan 12 11:10:45 CST 2011 - gaoyang.zyh@taobao.com

- scripts/abs-post-receive: a initial version git server update hook to send mails.

-------------------------------------------------------------------
Wed Jan 12 11:09:54 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: don't build kdump kernel.

-------------------------------------------------------------------
Tue Jan 11 15:39:53 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: build without perftool.

-------------------------------------------------------------------
Tue Jan 11 13:52:16 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: redirect the stdout of test for tar to /dev/null.

-------------------------------------------------------------------
Tue Jan 11 13:38:41 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: Enable more functional build, without perf, xen, and kabichk.

-------------------------------------------------------------------
Tue Jan 11 11:43:25 CST 2011 - gaoyang.zyh@taobao.com

- doc/README.Taobao: Add an initial doc.

-------------------------------------------------------------------
Tue Jan 11 11:16:01 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: s/pglobal/global, it's a typo.

-------------------------------------------------------------------
Tue Jan 11 10:35:13 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: correct the 'var if var1 else var2' statement to work with old python.

-------------------------------------------------------------------
Mon Jan 10 19:26:18 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: comment out the pgglobal one to build under old rpmbuild

-------------------------------------------------------------------
Mon Jan 10 18:24:49 CST 2011 - gaoyang.zyh@taobao.com

- scripts/config.py: fix a wrong tab indent

-------------------------------------------------------------------
Mon Jan 10 17:52:26 CST 2011 - gaoyang.zyh@taobao.com

- scripts/config.py: the ret should be assigned before referenced.

-------------------------------------------------------------------
Mon Jan 10 17:50:38 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: rewrite the call to mkspec.py to make old python happy.

-------------------------------------------------------------------
Mon Jan 10 17:43:11 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: a typo in previous commit, sorry...

-------------------------------------------------------------------
Mon Jan 10 17:39:30 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: the previous snippet doesn't fit with old python in RHEL5.

-------------------------------------------------------------------
Fri Jan  7 17:23:34 CST 2011 - gaoyang.zyh@taobao.com

- scripts/patch-tag-template: add more details to the comments.

-------------------------------------------------------------------
Wed Jan  5 17:27:52 CST 2011 - gaoyang.zyh@taobao.com

- scripts/patch-tag: add script to verify the patch header.
- scripts/patch-tag-template: add patch header template.

-------------------------------------------------------------------
Wed Jan  5 17:24:35 CST 2011 - gaoyang.zyh@taobao.com

- scripts/refresh_patch.sh: it's a wrapper of 'quilt refresh', to make the format unified.

-------------------------------------------------------------------
Tue Jan  4 19:38:19 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: fix the os.symlink error, the old one links to itself by mistake.

-------------------------------------------------------------------
Tue Jan  4 19:26:30 CST 2011 - gaoyang.zyh@taobao.com

Add scripts to check patches when submitting.
- scripts/check-cvs-add: check if all files referenced by series.conf are in git.
- scripts/check-patch: check a patch's format
- scripts/cvs-touched-files: find out which files appear to have changed.
- scripts/git-pre-commit: select out the patches in committing files to run check_patch
- scripts/install-git-hooks: to install the scripts to a fresh cloned git repo.
- scripts/log: run this to submit your work.
- scripts/rpm-changes-merge.pl:
- scripts/vc: called by log to verify the changelog
- scripts/wd-functions.sh: public functions used by scripts/*.sh

-------------------------------------------------------------------
Tue Jan  4 19:22:51 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: Link the tarball instead of copying it to speed up packaging.

